
;Caller Save
ASTORE SPILLEDARG 2 s4
ASTORE SPILLEDARG 7 s7
ASTORE SPILLEDARG 5 s6
ASTORE SPILLEDARG 4 s3
ASTORE SPILLEDARG 3 s2
ASTORE SPILLEDARG 0 s0
ASTORE SPILLEDARG 6 s5
ASTORE SPILLEDARG 1 s1

;Arguments
MOVE s0 a0
MOVE s1 a1

;my_head = this
MOVE s2 s0

;ret_val = false
MOVE s3 0 

;aux04 = 0 -1
MOVE s4 0 
MOVE s5 MINUS s4 1 

;aux01 = this
MOVE s4 s0 

;prev = this
MOVE s6 s0 

;var_end  = end
HLOAD s7 s0 12 


MOVE t0 s7 

PRINT 1234567
PRINT t0

;var_elem = elem
HLOAD s7 s0 4 

PRINT 234567
PRINT t0

MOVE s0 s7 

PRINT 34567
PRINT t0

L18 NOOP

PRINT 4567
PRINT t0

MOVE s7 0 
MOVE t1 1 

PRINT 567
PRINT t0


MOVE t2 MINUS t1 t0

PRINT 67
PRINT t2
PRINT 7

CJUMP t2 L20

MOVE t2 1 
MOVE t1 MINUS t2 s3 
CJUMP t1 L20

MOVE s7 1 
L20 NOOP

CJUMP s7 L19

MOVE s7 s1 
HLOAD t1 s7 0 
HLOAD t2 t1 16 
MOVE a0 s7
MOVE a1 s0
CALL t2 
MOVE t1 v0 
CJUMP t1 L21

MOVE s3 1 
MOVE t1 0 
MOVE t2 LT s5 t1 
CJUMP t2 L23

MOVE t2 s4 
HLOAD t1 t2 0 
HLOAD s7 t1 32 
MOVE a0 t2
CALL s7 
MOVE t1 v0 
MOVE s2 t1 
JUMP L24

L23 NOOP

MOVE t1 0 
MOVE s7 555 
MOVE t2 MINUS t1 s7 
PRINT t2 
MOVE t2 s6 
HLOAD s7 t2 0 
HLOAD t1 s7 12 
MOVE s7 s4 
HLOAD t3 s7 0 
HLOAD t4 t3 32 
MOVE a0 s7
CALL t4 
MOVE t3 v0 
MOVE a0 t2
MOVE a1 t3
CALL t1 
MOVE t4 v0 
MOVE t4 0 
MOVE t3 555 
MOVE t1 MINUS t4 t3 
PRINT t1 
L24 NOOP

JUMP L22

L21 NOOP

L22 NOOP

MOVE t1 1 
MOVE t3 MINUS t1 s3 
CJUMP t3 L25

MOVE s6 s4 
MOVE t3 s4 
HLOAD t1 t3 0 
HLOAD t4 t1 32 
MOVE a0 t3
CALL t4 
MOVE t1 v0 
MOVE s4 t1 
MOVE t1 s4 
HLOAD t4 t1 0 
HLOAD t3 t4 24 
MOVE a0 t1
CALL t3 
MOVE t4 v0 
MOVE t0 t4 
MOVE t4 s4 
HLOAD t3 t4 0 
HLOAD t1 t3 28 
MOVE a0 t4
CALL t1 
MOVE t3 v0 
MOVE s0 t3 
MOVE s5 1 
JUMP L26

L25 NOOP

L26 NOOP

JUMP L18

L19 NOOP

MOVE v0 s2 
ALOAD s4 SPILLEDARG 2
ALOAD s7 SPILLEDARG 7
ALOAD s6 SPILLEDARG 5
ALOAD s3 SPILLEDARG 4
ALOAD s2 SPILLEDARG 3
ALOAD s0 SPILLEDARG 0
ALOAD s5 SPILLEDARG 6
ALOAD s1 SPILLEDARG 1
END 

